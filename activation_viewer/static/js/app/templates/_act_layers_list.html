<!-- tablist -->
<!-- ng-init used to integrate with the geonode search engine that is returning item. In our activation detail page we use activation instead -->
<div class="panel panel-group" ng-init="item ? activation = item : null" role="tablist" id="map-set-list" ng-controller="LayerSwitcherController">
  <button ng-if="has_map" type="button" class="btn-xs btn btn-info" ng-click="zoomToActivation(item.id )">Zoom</button>
        <button ng-if="has_map" type="button" ng-init="action = true" class="btn-xs btn btn-info" ng-click="toggleActivationLayers(action, item.id); action = !action" ng-bind-html="action == true ? 'Show all layers' : 'Hide layers'"></button>
  <div ng-repeat="map_set in activation.map_sets" class="panel panel-default map-set">
    
    <!-- tab -->
    <div class="panel-heading mp-heading" role="tab">
      <h4 class="panel-title">
        <a data-target="#map_product_list_{{ map_set.id }}" data-toggle="collapse" class="fa fa-chevron-right ms-title" data-parent="#map-set-list">{{ map_set.name }}</a>
      </h4>
    </div>

    <!-- tabpanel -->
    <div id="map_product_list_{{ map_set.id }}" class="panel-collapse collapse ms-tabpanel" role="tabpanel">
      
      <!-- tablist -->
      <div class="mp_list_body panel-body panel-group" id="map_product_list_body_{{ map_set.id }}" role="tablist">
        
        <div ng-repeat="map_product in map_set.map_products" class="panel panel-default">
          
          <ng-include src="'/static/js/app/templates/_map_products.html'"></ng-include>

        </div>
      </div> <!-- panel-body -->
    </div> <!-- panel-collapse -->
  </div> <!-- panel-default -->
</div>
